<!DOCTYPE html>
<html lang="en" data-bs-theme="light">

<head>
    <title>rhythm game configuration</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        function changeNoteSpeed(val){
            $("#noteSpeedNum").html(val);
            localStorage.setItem("noteSpeed", val);
        }
        function changeCanvasOpacity(val){
            $("#canvasOpacityNum").html(val);
            localStorage.setItem("canvasOpacity", val);
        }
        $(function (){
            let noteSpeed = localStorage.getItem("noteSpeed");
            let canvasOpacity = localStorage.getItem("canvasOpacity");
            // localStorage에 값이 없다면 새로 저장한다. 
            if (noteSpeed==null) {
                localStorage.setItem("noteSpeed", "1");
            }
            // 값이 있다면 해당 값을 화면에 출력
            else {
                $("#noteSpeedNum").html(noteSpeed);
                $("#noteSpeed").val(noteSpeed);
            }

            if (canvasOpacity==null) {
                localStorage.setItem("canvasOpacity", "1");
            }
            else {
                $("#canvasOpacityNum").html(canvasOpacity);
                $("#canvasOpacity").val(canvasOpacity);
            }
            console.log("wow");
        })
    </script>
</head>

<body>
    <div class="container mt-2">
        <!--위에서 내려오는 속도-->
        <label for="noteSpeed" class="form-label">노트가 위에서 내려오는 속도: </label>
        <a id="noteSpeedNum">1</a>
        <input type="range" class="form-range" min="0.3" max="3" step="0.1" id="noteSpeed" oninput="changeNoteSpeed(this.value)">
        <!--canvas 투명도-->
        <label for="canvasOpacity" class="form-label">canvas 투명도(1에 가까울수록 선명함): </label>
        <a id="canvasOpacityNum">1</a>
        <input type="range" class="form-range" min="0.2" max="1" step="0.1" id="canvasOpacity" oninput="changeCanvasOpacity(this.value)">
        <button type="button" class="btn btn-primary" onclick="location.href='/'">확인</button>
    </div>
</body>

</html>